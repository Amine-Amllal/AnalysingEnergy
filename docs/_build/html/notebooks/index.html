

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documentation des Notebooks &mdash; AnalysingGreenEnergy 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=f2a433a1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            AnalysingGreenEnergy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Guide d'utilisation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Démarrage rapide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_description.html">Description des données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_description.html#export-et-formats">Export et formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_description.html#prochaines-etapes">Prochaines étapes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Analyse des données</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data_analysis.html">Analyse des Données</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessing.html">Prétraitement des Données</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modélisation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../lstm_models.html">Modèles LSTM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hyperparameter_optimization.html">Optimisation des hyperparamètres</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_evaluation.html">Évaluation des Modèles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interface utilisateur</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../interface.html">Interface utilisateur</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Annexes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Dépannage et Résolution de Problèmes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Questions Fréquentes (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AnalysingGreenEnergy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Documentation des Notebooks</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/your-username/AnalysingEnergy/blob/main/docs/notebooks/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="documentation-des-notebooks">
<h1>Documentation des Notebooks<a class="headerlink" href="#documentation-des-notebooks" title="Link to this heading"></a></h1>
<p>Cette section présente les notebooks Jupyter utilisés dans le projet AnalysingEnergy pour l’analyse des données et le développement des modèles LSTM.</p>
<section id="vue-d-ensemble-des-notebooks">
<h2>Vue d’ensemble des notebooks<a class="headerlink" href="#vue-d-ensemble-des-notebooks" title="Link to this heading"></a></h2>
<p>Le projet comprend plusieurs notebooks spécialisés pour différentes étapes du pipeline de machine learning :</p>
<ul class="simple">
<li><p><strong>Data preprocessing.ipynb</strong> - Prétraitement et nettoyage des données</p></li>
<li><p><strong>LSTM Generation.ipynb</strong> - Développement du modèle LSTM principal</p></li>
<li><p><strong>Predicting_next_365days.ipynb</strong> - Prédictions à long terme</p></li>
<li><p><strong>LSTM complet.ipynb</strong> - Implémentation complète du système</p></li>
<li><p><strong>LSTM complet interface.ipynb</strong> - Intégration avec l’interface Streamlit</p></li>
</ul>
</section>
<section id="structure-des-notebooks">
<h2>Structure des notebooks<a class="headerlink" href="#structure-des-notebooks" title="Link to this heading"></a></h2>
<p>Chaque notebook suit une structure standardisée :</p>
<ol class="arabic simple">
<li><p><strong>Imports et configuration</strong> des librairies</p></li>
<li><p><strong>Chargement des données</strong> et exploration initiale</p></li>
<li><p><strong>Prétraitement</strong> adapté à l’objectif</p></li>
<li><p><strong>Modélisation</strong> et entraînement</p></li>
<li><p><strong>Évaluation</strong> des résultats</p></li>
<li><p><strong>Visualisations</strong> et interprétations</p></li>
<li><p><strong>Sauvegarde</strong> des modèles et résultats</p></li>
</ol>
</section>
<section id="data-preprocessing-ipynb">
<h2>Data preprocessing.ipynb<a class="headerlink" href="#data-preprocessing-ipynb" title="Link to this heading"></a></h2>
<section id="objectif">
<h3>Objectif<a class="headerlink" href="#objectif" title="Link to this heading"></a></h3>
<p>Ce notebook se concentre sur le prétraitement complet du dataset BanE-16 pour optimiser les données d’entrée des modèles LSTM.</p>
</section>
<section id="contenu-principal">
<h3>Contenu principal<a class="headerlink" href="#contenu-principal" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Structure typique du notebook de prétraitement</span>

<span class="c1"># 1. Exploration des données</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Chargement des données</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../Data/data.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Shape du dataset: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Colonnes: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># 2. Analyse des valeurs manquantes</span>
<span class="n">missing_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valeurs manquantes par colonne:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_data</span><span class="p">[</span><span class="n">missing_data</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>

<span class="c1"># 3. Statistiques descriptives</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="etapes-de-pretraitement">
<h3>Étapes de prétraitement<a class="headerlink" href="#etapes-de-pretraitement" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Nettoyage des données</strong></p>
<ul class="simple">
<li><p>Détection et traitement des valeurs manquantes</p></li>
<li><p>Identification des valeurs aberrantes</p></li>
<li><p>Correction des incohérences temporelles</p></li>
</ul>
</li>
<li><p><strong>Feature engineering</strong></p>
<ul class="simple">
<li><p>Création de variables temporelles (jour, mois, saison)</p></li>
<li><p>Calcul de moyennes mobiles</p></li>
<li><p>Génération de variables lag</p></li>
</ul>
</li>
<li><p><strong>Normalisation</strong></p>
<ul class="simple">
<li><p>Standardisation des variables météorologiques</p></li>
<li><p>Normalisation de la variable cible</p></li>
<li><p>Sauvegarde des scalers</p></li>
</ul>
</li>
<li><p><strong>Division des données</strong></p>
<ul class="simple">
<li><p>Séparation chronologique train/validation/test</p></li>
<li><p>Création des séquences pour LSTM</p></li>
</ul>
</li>
</ol>
</section>
<section id="sorties-du-notebook">
<h3>Sorties du notebook<a class="headerlink" href="#sorties-du-notebook" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Datasets préprocessés (train_data.csv, test_data.csv)</p></li>
<li><p>Scalers sauvegardés (dossier scalers/)</p></li>
<li><p>Graphiques d’analyse exploratoire</p></li>
<li><p>Rapport de qualité des données</p></li>
</ul>
</section>
</section>
<section id="lstm-generation-ipynb">
<h2>LSTM Generation.ipynb<a class="headerlink" href="#lstm-generation-ipynb" title="Link to this heading"></a></h2>
<section id="id1">
<h3>Objectif<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>Développement et entraînement du modèle LSTM principal pour la prédiction de génération d’énergie verte.</p>
</section>
<section id="architecture-du-modele">
<h3>Architecture du modèle<a class="headerlink" href="#architecture-du-modele" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Architecture LSTM optimisée</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tensorflow.keras.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Sequential</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tensorflow.keras.layers</span><span class="w"> </span><span class="kn">import</span> <span class="n">LSTM</span><span class="p">,</span> <span class="n">Dense</span><span class="p">,</span> <span class="n">Dropout</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_lstm_model</span><span class="p">(</span><span class="n">input_shape</span><span class="p">,</span> <span class="n">units_1</span><span class="o">=</span><span class="mi">74</span><span class="p">,</span> <span class="n">units_2</span><span class="o">=</span><span class="mi">69</span><span class="p">,</span> <span class="n">dropout_rate</span><span class="o">=</span><span class="mf">0.1938</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">([</span>
        <span class="n">LSTM</span><span class="p">(</span><span class="n">units_1</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="n">input_shape</span><span class="p">),</span>
        <span class="n">Dropout</span><span class="p">(</span><span class="n">dropout_rate</span><span class="p">),</span>
        <span class="n">LSTM</span><span class="p">(</span><span class="n">units_2</span><span class="p">,</span> <span class="n">return_sequences</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="n">Dropout</span><span class="p">(</span><span class="n">dropout_rate</span><span class="p">),</span>
        <span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
    <span class="p">])</span>

    <span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span>
        <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;mse&#39;</span><span class="p">,</span>
        <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;mae&#39;</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">model</span>
</pre></div>
</div>
</section>
<section id="processus-d-entrainement">
<h3>Processus d’entraînement<a class="headerlink" href="#processus-d-entrainement" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Préparation des données</strong></p>
<ul class="simple">
<li><p>Chargement des données préprocessées</p></li>
<li><p>Création des séquences temporelles (60 jours)</p></li>
<li><p>Division train/validation</p></li>
</ul>
</li>
<li><p><strong>Configuration du modèle</strong></p>
<ul class="simple">
<li><p>Architecture LSTM à 2 couches</p></li>
<li><p>Optimisation des hyperparamètres</p></li>
<li><p>Callbacks pour early stopping</p></li>
</ul>
</li>
<li><p><strong>Entraînement</strong></p>
<ul class="simple">
<li><p>Entraînement sur données historiques</p></li>
<li><p>Validation sur données de test</p></li>
<li><p>Monitoring des métriques</p></li>
</ul>
</li>
<li><p><strong>Évaluation</strong></p>
<ul class="simple">
<li><p>Calcul RMSE, MAE, R²</p></li>
<li><p>Analyse des résidus</p></li>
<li><p>Visualisation des prédictions</p></li>
</ul>
</li>
</ol>
</section>
<section id="resultats-obtenus">
<h3>Résultats obtenus<a class="headerlink" href="#resultats-obtenus" title="Link to this heading"></a></h3>
<p>Le modèle final achieve :</p>
<ul class="simple">
<li><p><strong>RMSE</strong> : 291.19 MW</p></li>
<li><p><strong>MAE</strong> : ~185 MW</p></li>
<li><p><strong>R²</strong> : 0.847</p></li>
<li><p><strong>Temps d’entraînement</strong> : ~45 minutes</p></li>
</ul>
</section>
</section>
<section id="predicting-next-365days-ipynb">
<h2>Predicting_next_365days.ipynb<a class="headerlink" href="#predicting-next-365days-ipynb" title="Link to this heading"></a></h2>
<section id="id2">
<h3>Objectif<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>Génération de prédictions à long terme (365 jours) pour la planification énergétique.</p>
</section>
<section id="methodologie">
<h3>Méthodologie<a class="headerlink" href="#methodologie" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">predict_long_term</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">last_sequence</span><span class="p">,</span> <span class="n">n_days</span><span class="o">=</span><span class="mi">365</span><span class="p">,</span> <span class="n">scaler</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prédiction récursive à long terme&quot;&quot;&quot;</span>

    <span class="n">predictions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">current_sequence</span> <span class="o">=</span> <span class="n">last_sequence</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">day</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_days</span><span class="p">):</span>
        <span class="c1"># Prédiction du jour suivant</span>
        <span class="n">pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">current_sequence</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">current_sequence</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
        <span class="n">predictions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

        <span class="c1"># Mise à jour de la séquence (glissement)</span>
        <span class="c1"># Ici on simulerait les nouvelles données météo</span>
        <span class="c1"># Pour simplicité, on utilise les dernières valeurs connues</span>
        <span class="n">new_features</span> <span class="o">=</span> <span class="n">current_sequence</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">new_features</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># Actualiser la génération prédite</span>

        <span class="c1"># Glissement de la fenêtre</span>
        <span class="n">current_sequence</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">current_sequence</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">new_features</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">predictions</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="defis-de-la-prediction-long-terme">
<h3>Défis de la prédiction long terme<a class="headerlink" href="#defis-de-la-prediction-long-terme" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Accumulation d’erreurs</strong> : Les erreurs se propagent dans les prédictions futures</p></li>
<li><p><strong>Incertitude météorologique</strong> : Difficulté à prédire les conditions météo</p></li>
<li><p><strong>Changements saisonniers</strong> : Adaptation aux variations saisonnières</p></li>
<li><p><strong>Événements exceptionnels</strong> : Gestion des conditions extrêmes</p></li>
</ol>
</section>
<section id="strategies-d-amelioration">
<h3>Stratégies d’amélioration<a class="headerlink" href="#strategies-d-amelioration" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Mise à jour régulière</strong> avec nouvelles données</p></li>
<li><p><strong>Ensemble de modèles</strong> pour réduire l’incertitude</p></li>
<li><p><strong>Intégration de prévisions météo</strong> externes</p></li>
<li><p><strong>Intervalles de confiance</strong> pour quantifier l’incertitude</p></li>
</ul>
</section>
</section>
<section id="lstm-complet-ipynb">
<h2>LSTM complet.ipynb<a class="headerlink" href="#lstm-complet-ipynb" title="Link to this heading"></a></h2>
<section id="id3">
<h3>Objectif<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>Implémentation complète du système de prédiction énergétique avec toutes les fonctionnalités.</p>
</section>
<section id="fonctionnalites-integrees">
<h3>Fonctionnalités intégrées<a class="headerlink" href="#fonctionnalites-integrees" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Pipeline complet</strong></p>
<ul class="simple">
<li><p>Prétraitement automatisé</p></li>
<li><p>Entraînement du modèle</p></li>
<li><p>Évaluation et validation</p></li>
<li><p>Sauvegarde des résultats</p></li>
</ul>
</li>
<li><p><strong>Optimisation des hyperparamètres</strong></p>
<ul class="simple">
<li><p>Utilisation d’Optuna</p></li>
<li><p>Optimisation multi-objectif</p></li>
<li><p>Validation croisée temporelle</p></li>
</ul>
</li>
<li><p><strong>Modèles spécialisés</strong></p>
<ul class="simple">
<li><p>Modèles par variable météorologique</p></li>
<li><p>Ensemble de modèles</p></li>
<li><p>Modèle de consensus</p></li>
</ul>
</li>
<li><p><strong>Interface de test</strong></p>
<ul class="simple">
<li><p>Fonctions de test interactives</p></li>
<li><p>Visualisations avancées</p></li>
<li><p>Export des résultats</p></li>
</ul>
</li>
</ol>
</section>
<section id="structure-du-notebook">
<h3>Structure du notebook<a class="headerlink" href="#structure-du-notebook" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Structure du notebook complet</span>

<span class="c1"># Section 1: Configuration et imports</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../interface/&#39;</span><span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">EnergyPredictor</span>

<span class="c1"># Section 2: Chargement et préparation des données</span>
<span class="n">predictor</span> <span class="o">=</span> <span class="n">EnergyPredictor</span><span class="p">()</span>
<span class="n">predictor</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;../Data/data.csv&#39;</span><span class="p">)</span>

<span class="c1"># Section 3: Entraînement des modèles</span>
<span class="n">predictor</span><span class="o">.</span><span class="n">train_models</span><span class="p">()</span>

<span class="c1"># Section 4: Évaluation</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">predictor</span><span class="o">.</span><span class="n">evaluate_models</span><span class="p">()</span>

<span class="c1"># Section 5: Prédictions et visualisations</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="n">predictor</span><span class="o">.</span><span class="n">predict_future</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">predictor</span><span class="o">.</span><span class="n">plot_results</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="lstm-complet-interface-ipynb">
<h2>LSTM complet interface.ipynb<a class="headerlink" href="#lstm-complet-interface-ipynb" title="Link to this heading"></a></h2>
<section id="id4">
<h3>Objectif<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<p>Développement et test de l’interface Streamlit pour l’application de prédiction énergétique.</p>
</section>
<section id="composants-de-l-interface">
<h3>Composants de l’interface<a class="headerlink" href="#composants-de-l-interface" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Interface de chargement</strong></p>
<ul class="simple">
<li><p>Upload de fichiers de données</p></li>
<li><p>Validation du format</p></li>
<li><p>Prévisualisation des données</p></li>
</ul>
</li>
<li><p><strong>Configuration des modèles</strong></p>
<ul class="simple">
<li><p>Sélection des paramètres</p></li>
<li><p>Choix des variables d’entrée</p></li>
<li><p>Configuration de l’entraînement</p></li>
</ul>
</li>
<li><p><strong>Visualisations interactives</strong></p>
<ul class="simple">
<li><p>Graphiques temps réel</p></li>
<li><p>Comparaisons de modèles</p></li>
<li><p>Métriques de performance</p></li>
</ul>
</li>
<li><p><strong>Export des résultats</strong></p>
<ul class="simple">
<li><p>Téléchargement des prédictions</p></li>
<li><p>Rapports PDF</p></li>
<li><p>Données pour analyse externe</p></li>
</ul>
</li>
</ol>
</section>
<section id="tests-d-integration">
<h3>Tests d’intégration<a class="headerlink" href="#tests-d-integration" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test de l&#39;interface dans le notebook</span>

<span class="c1"># Simulation de l&#39;interaction utilisateur</span>
<span class="n">test_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../Data/test_data.csv&#39;</span><span class="p">)</span>

<span class="c1"># Test des fonctions de l&#39;interface</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">interface.app</span><span class="w"> </span><span class="kn">import</span> <span class="n">EnergyPredictor</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">EnergyPredictor</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">load_data_from_dataframe</span><span class="p">(</span><span class="n">test_data</span><span class="p">)</span>

<span class="c1"># Test de prédiction</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">predict_single_day</span><span class="p">(</span>
    <span class="n">min_temp</span><span class="o">=</span><span class="mf">15.2</span><span class="p">,</span>
    <span class="n">mean_temp</span><span class="o">=</span><span class="mf">22.1</span><span class="p">,</span>
    <span class="n">max_temp</span><span class="o">=</span><span class="mf">28.9</span><span class="p">,</span>
    <span class="n">wind_speed</span><span class="o">=</span><span class="mf">12.5</span><span class="p">,</span>
    <span class="n">precipitation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="n">pressure</span><span class="o">=</span><span class="mf">1013.25</span><span class="p">,</span>
    <span class="n">humidity</span><span class="o">=</span><span class="mf">65.0</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prédiction: </span><span class="si">{</span><span class="n">prediction</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MW&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="bonnes-pratiques-pour-les-notebooks">
<h2>Bonnes pratiques pour les notebooks<a class="headerlink" href="#bonnes-pratiques-pour-les-notebooks" title="Link to this heading"></a></h2>
<section id="structure-et-organisation">
<h3>Structure et organisation<a class="headerlink" href="#structure-et-organisation" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Titre et description</strong> clairs en en-tête</p></li>
<li><p><strong>Table des matières</strong> pour les notebooks longs</p></li>
<li><p><strong>Sections bien délimitées</strong> avec markdown</p></li>
<li><p><strong>Documentation</strong> des fonctions et paramètres</p></li>
</ol>
</section>
<section id="qualite-du-code">
<h3>Qualité du code<a class="headerlink" href="#qualite-du-code" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exemple de bonne pratique</span>

<span class="k">def</span><span class="w"> </span><span class="nf">preprocess_weather_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">target_col</span><span class="o">=</span><span class="s1">&#39;max_generation(mw)&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prétraite les données météorologiques pour l&#39;entraînement LSTM.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    data : pd.DataFrame</span>
<span class="sd">        Données brutes du dataset BanE-16</span>
<span class="sd">    target_col : str</span>
<span class="sd">        Nom de la colonne cible</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    X : np.array</span>
<span class="sd">        Features préprocessées</span>
<span class="sd">    y : np.array</span>
<span class="sd">        Variable cible</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Implémentation avec gestion d&#39;erreurs</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Prétraitement...</span>
        <span class="k">pass</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur dans le prétraitement: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
</pre></div>
</div>
</section>
<section id="reproductibilite">
<h3>Reproductibilité<a class="headerlink" href="#reproductibilite" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Seeds fixés</strong> pour la reproductibilité</p></li>
<li><p><strong>Versions des librairies</strong> documentées</p></li>
<li><p><strong>Chemins relatifs</strong> pour la portabilité</p></li>
<li><p><strong>Sauvegarde</strong> des résultats intermédiaires</p></li>
</ol>
</section>
<section id="visualisations">
<h3>Visualisations<a class="headerlink" href="#visualisations" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exemple de visualisation standardisée</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_training_history</span><span class="p">(</span><span class="n">history</span><span class="p">,</span> <span class="n">save_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Graphique standardisé de l&#39;historique d&#39;entraînement&quot;&quot;&quot;</span>

    <span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

    <span class="c1"># Loss</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Train Loss&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;val_loss&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Validation Loss&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Évolution de la Loss&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Epoch&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;MSE&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Métriques</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;mae&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Train MAE&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;val_mae&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Validation MAE&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Évolution du MAE&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Epoch&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;MAE&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">save_path</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_path</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="utilisation-des-notebooks">
<h2>Utilisation des notebooks<a class="headerlink" href="#utilisation-des-notebooks" title="Link to this heading"></a></h2>
<section id="ordre-d-execution-recommande">
<h3>Ordre d’exécution recommandé<a class="headerlink" href="#ordre-d-execution-recommande" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Data preprocessing.ipynb</strong> - Préparation des données</p></li>
<li><p><strong>LSTM Generation.ipynb</strong> - Développement du modèle principal</p></li>
<li><p><strong>LSTM complet.ipynb</strong> - Validation et optimisation</p></li>
<li><p><strong>Predicting_next_365days.ipynb</strong> - Tests de prédiction long terme</p></li>
<li><p><strong>LSTM complet interface.ipynb</strong> - Test de l’interface</p></li>
</ol>
</section>
<section id="configuration-requise">
<h3>Configuration requise<a class="headerlink" href="#configuration-requise" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Vérification de l&#39;environnement</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Python version: </span><span class="si">{</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Librairies essentielles</span>
<span class="n">required_packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;pandas&#39;</span><span class="p">,</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span> <span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="s1">&#39;seaborn&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tensorflow&#39;</span><span class="p">,</span> <span class="s1">&#39;scikit-learn&#39;</span><span class="p">,</span> <span class="s1">&#39;optuna&#39;</span><span class="p">,</span>
    <span class="s1">&#39;streamlit&#39;</span><span class="p">,</span> <span class="s1">&#39;plotly&#39;</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">package</span> <span class="ow">in</span> <span class="n">required_packages</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">__import__</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✓ </span><span class="si">{</span><span class="n">package</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✗ </span><span class="si">{</span><span class="n">package</span><span class="si">}</span><span class="s2"> - Installation requise&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="depannage-des-notebooks">
<h2>Dépannage des notebooks<a class="headerlink" href="#depannage-des-notebooks" title="Link to this heading"></a></h2>
<section id="problemes-courants">
<h3>Problèmes courants<a class="headerlink" href="#problemes-courants" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Erreurs de mémoire</strong></p>
<ul class="simple">
<li><p>Réduire la taille des batches</p></li>
<li><p>Utiliser des générateurs de données</p></li>
<li><p>Nettoyer les variables inutiles</p></li>
</ul>
</li>
<li><p><strong>Erreurs de chemins</strong></p>
<ul class="simple">
<li><p>Vérifier les chemins relatifs</p></li>
<li><p>Utiliser os.path.join()</p></li>
<li><p>Tester l’existence des fichiers</p></li>
</ul>
</li>
<li><p><strong>Problèmes de versions</strong></p>
<ul class="simple">
<li><p>Vérifier la compatibilité TensorFlow/Keras</p></li>
<li><p>Mettre à jour les dépendances</p></li>
<li><p>Utiliser des environnements virtuels</p></li>
</ul>
</li>
</ol>
</section>
<section id="solutions-type">
<h3>Solutions type<a class="headerlink" href="#solutions-type" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gestion robuste des erreurs</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="c1"># Vérification des chemins</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="s1">&#39;../Data/data.csv&#39;</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">data_path</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fichier non trouvé: </span><span class="si">{</span><span class="n">data_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vérifiez le chemin ou exécutez depuis le bon répertoire&quot;</span><span class="p">)</span>

<span class="c1"># Gestion mémoire</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">gc</span>

<span class="k">def</span><span class="w"> </span><span class="nf">clean_memory</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Nettoyage de la mémoire&quot;&quot;&quot;</span>
    <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="c1"># À utiliser après les sections intensives</span>
</pre></div>
</div>
</section>
</section>
<section id="prochaines-etapes">
<h2>Prochaines étapes<a class="headerlink" href="#prochaines-etapes" title="Link to this heading"></a></h2>
<p>Les notebooks constituent la base pratique du projet. Pour aller plus loin :</p>
<ul class="simple">
<li><p><a class="reference internal" href="../troubleshooting.html"><span class="doc">Dépannage et Résolution de Problèmes</span></a> - Résolution de problèmes</p></li>
<li><p><a class="reference internal" href="../api_reference.html"><span class="doc">Référence API</span></a> - Documentation des fonctions</p></li>
<li><p><a class="reference internal" href="../faq.html"><span class="doc">Questions Fréquentes (FAQ)</span></a> - Questions fréquentes</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, AMLLAL Amine, HAJJI Mohamed.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>